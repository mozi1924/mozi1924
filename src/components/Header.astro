---

---

<header
    class="fixed top-0 w-full z-50 bg-[#111]/80 backdrop-blur-md border-b border-white/10 transition-all duration-300"
>
    <div class="max-w-7xl mx-auto px-6 h-16 flex items-center justify-between">
        <a href="/" class="flex items-center gap-2 group">
            <div class="relative w-8 h-8 flex items-center justify-center">
                <img
                    src="/favicon.svg"
                    alt="Mozi Logo"
                    class="w-8 h-8 group-hover:scale-110 transition-transform duration-300"
                />
            </div>
            <span class="font-bold text-lg tracking-tight">Mozi's website</span>
        </a>

        <nav class="hidden md:flex items-center gap-8">
            <a
                href="/"
                class="text-sm font-medium text-gray-300 hover:text-white transition-colors"
                >Home</a
            >
            <a
                href="/blogs"
                class="text-sm font-medium text-gray-300 hover:text-white transition-colors"
                >Blogs</a
            >
            <a
                href="/mozi-rig"
                class="text-sm font-medium text-gray-300 hover:text-white transition-colors"
                >Mozi's Rig</a
            >
            <a
                href="/text-to-archbase4-encryption-decryption"
                class="text-sm font-medium text-gray-300 hover:text-white transition-colors"
                >Text2Arch Tool</a
            >
        </nav>

        <button id="mobile-menu-btn" class="md:hidden text-white p-2">
            <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                ><line x1="3" y1="12" x2="21" y2="12"></line><line
                    x1="3"
                    y1="6"
                    x2="21"
                    y2="6"></line><line x1="3" y1="18" x2="21" y2="18"
                ></line></svg
            >
        </button>
    </div>

    <!-- Mobile Menu -->
    <div
        id="mobile-menu"
        class="overflow-hidden h-0 bg-[#111] border-b border-white/10 transition-[height] duration-300 ease-in-out"
    >
        <nav class="flex flex-col p-4 space-y-4">
            <a
                href="/"
                class="text-sm font-medium text-gray-300 hover:text-white transition-colors"
                >Home</a
            >
            <a
                href="/blogs"
                class="text-sm font-medium text-gray-300 hover:text-white transition-colors"
                >Blogs</a
            >
            <a
                href="/mozi-rig"
                class="text-sm font-medium text-gray-300 hover:text-white transition-colors"
                >Mozi's Rig</a
            >
            <a
                href="/text-to-archbase4-encryption-decryption"
                class="text-sm font-medium text-gray-300 hover:text-white transition-colors"
                >Text2Arch Tool</a
            >
        </nav>
    </div>
</header>

<script>
    const setupMobileMenu = () => {
        const btn = document.getElementById("mobile-menu-btn");
        const menu = document.getElementById("mobile-menu");

        // Clone element to remove previous event listeners before adding new ones
        // This is a common pattern to avoid duplicate listeners if elements persist
        // However, in Astro View Transitions, persisting elements depends on 'transition:persist'
        // If the header is re-rendered, new elements are created.

        if (btn && menu) {
            btn.addEventListener("click", () => {
                if (menu.classList.contains("h-0")) {
                    menu.classList.remove("h-0");
                    menu.classList.add("h-auto");
                    menu.style.height = menu.scrollHeight + "px";
                } else {
                    menu.style.height = "0px";
                    menu.classList.add("h-0");
                    menu.classList.remove("h-auto");
                }
            });

            // Reset state on resize
            const handleResize = () => {
                if (window.innerWidth >= 768) {
                    menu.style.height = "";
                    menu.classList.add("h-0");
                }
            };
            window.addEventListener("resize", handleResize);
        }
    };

    document.addEventListener("astro:page-load", setupMobileMenu);
</script>
